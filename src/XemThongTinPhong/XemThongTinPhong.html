<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Phòng P101 - DormSpace</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: Arial, sans-serif;
    }

    body {
      background: #f7f8fc;
      color: #333;
    }

    /* Header */
    header {
      background: linear-gradient(90deg, #3a5aff, #6a85ff);
      padding: 15px 50px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: #fff;
    }

    header .logo {
      font-size: 20px;
      font-weight: bold;
    }

    header nav a {
      color: #fff;
      margin: 0 15px;
      text-decoration: none;
    }

    header .user-info {
      font-size: 14px;
      text-align: right;
    }

    /* Container */
    .container {
      width: 85%;
      margin: 30px auto;
    }

    .title {
      text-align: center;
      margin-bottom: 20px;
    }

    .title h2 {
      font-size: 28px;
      margin-bottom: 5px;
    }

    .title p {
      font-size: 14px;
      color: #666;
    }

    /* Main content */
    .content {
      display: flex;
      gap: 20px;
    }

    /* Left content */
    .left {
      flex: 2.5;
    }

    .image-box {
      background: #fff;
      border-radius: 10px;
      padding: 15px;
      margin-bottom: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }

    .image-box img {
      width: 100%;
      border-radius: 10px;
      margin-bottom: 10px;
    }

    .thumbs {
      display: flex;
      gap: 10px;
    }

    .thumbs img {
      width: 100px;
      height: 70px;
      object-fit: cover;
      border-radius: 8px;
      cursor: pointer;
      border: 2px solid transparent;
    }

    .thumbs img:hover {
      border: 2px solid #3a5aff;
    }

    .details {
      background: #fff;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }

    .details h3 {
      font-size: 18px;
      margin-bottom: 15px;
    }

    .details p {
      font-size: 14px;
      margin: 6px 0;
    }

    .details .tag {
      color: green;
      font-weight: bold;
    }

    .details ul {
      margin-top: 10px;
      padding-left: 20px;
    }

    .details ul li {
      margin-bottom: 6px;
      font-size: 14px;
    }

    .tab-box {
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }

    .map-box {
      background: #fff;
      border-radius: 10px;
      padding: 15px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }

    .map-box iframe {
      width: 100%;
      height: 300px;
      border-radius: 10px;
      border: none;
    }

    /* Right content */
    .right {
      flex: 1;
    }

    .booking-box {
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      position: sticky;
      top: 20px;
    }

    .booking-box h3 {
      color: #3a5aff;
      font-size: 20px;
      margin-bottom: 10px;
    }

    .booking-box p {
      margin: 8px 0;
      font-size: 14px;
    }

    .btn {
      display: block;
      width: 100%;
      padding: 12px;
      margin-top: 15px;
      background: linear-gradient(90deg, #3a5aff, #6a85ff);
      color: #fff;
      text-align: center;
      border: none;
      border-radius: 8px;
      font-size: 15px;
      cursor: pointer;
    }

    /* Footer */
    footer {
      background: #111;
      color: #ddd;
      padding: 30px 50px;
      margin-top: 50px;
    }

    footer .footer-content {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
    }

    footer h4 {
      margin-bottom: 10px;
      color: #fff;
    }

    footer p, footer a {
      font-size: 14px;
      color: #bbb;
      text-decoration: none;
      line-height: 1.6;
    }

    footer .subscribe input {
      padding: 8px;
      border-radius: 5px;
      border: none;
      margin-right: 5px;
    }

    footer .subscribe button {
      padding: 8px 12px;
      background: #3a5aff;
      border: none;
      color: #fff;
      border-radius: 5px;
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="logo">DormSpace</div>
    <nav>
      <a href="#">Danh sách KTX</a>
      <a href="#">Giới thiệu</a>
      <a href="#">Liên hệ</a>
      <a href="#">Báo vi phạm</a>
    </nav>
    <div class="user-info">
      <div>Lê Công Tuấn</div>
      <div>abc@gmail.com</div>
    </div>
  </header>

  <!-- Main -->
  <div class="container">
    <div class="title">
      <h2>Phòng P101</h2>
      <p>Khu A - KTX Phía Tây Đà Nẵng</p>
    </div>

    <div class="content">
      <!-- Left -->
      <div class="left">
        <div class="image-box">
          <img src="https://via.placeholder.com/800x400" alt="Phòng P101">
          <div class="thumbs">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRrFFB-yKswZT20UD-aoM7aabkuO1wQTsJUjw&s" alt="">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRE6oPUmhsdIKOhr-hT15jKmnlRsLxDB4saYw&s" alt="">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTzxSb95NEp9Q1Dc5-c-b_cUEWJhGeAzrfNWg&s" alt="">
            <img src="https://studiochupanhdep.com/Upload/Images/Album/anh-phong-khach-san-dep-07.jpg" alt="">
          </div>
        </div>

        <div class="details">
          <h3>Chi tiết phòng</h3>
          <p><b>Số phòng:</b> P101</p>
          <p><b>Diện tích:</b> 100 m²</p>
          <p><b>Sức chứa:</b> 6 người</p>
          <p><b>Trạng thái:</b> <span class="tag">Còn phòng</span></p>
          <p><b>Tiện nghi:</b> Wifi, Máy lạnh</p>
          <h4>Mô tả</h4>
          <p>Phòng P101 là phòng 6 người với đầy đủ tiện nghi cho sinh viên, có giường tầng, bàn học cá nhân, điều hòa...</p>
          <h4>Quy định phòng</h4>
          <ul>
            <li>Giờ mở cửa: 6:00 - 23:00</li>
            <li>Không hút thuốc trong phòng</li>
            <li>Không nuôi thú cưng</li>
            <li>Tính tiền điện nước theo số sử dụng</li>
          </ul>
        </div>

        <div class="tab-box">
          <h3>Mô tả KTX</h3>
          <p>KTX phục vụ sinh viên TP Đà Nẵng, có hệ thống camera giám sát 24/7, sức chứa khoảng 4500 sinh viên.</p>
        </div>

        <div class="map-box">
          <h3>Vị trí</h3>
          <iframe src="https://www.openstreetmap.org/export/embed.html?bbox=108.167%2C16.071%2C108.177%2C16.078&layer=mapnik"></iframe>
          <p><b>Địa chỉ:</b> 08 Hà Văn Tính, Hòa Khánh Nam, Liên Chiểu, Đà Nẵng</p>
        </div>
      </div>

      <!-- Right -->
      <div class="right">
        <div class="booking-box">
          <h3>400.000 đ / tháng</h3>
          <p>Đặt cọc: 500.000 đ</p>
          <p>Điện nước: Tính theo số sử dụng</p>
          <p>Internet: Miễn phí</p>
          <p><b>KTX:</b> Khu A - KTX Phía Tây Đà Nẵng</p>
          <button class="btn">Đặt phòng ngay</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <div>
        <h4>DormSpace</h4>
        <p>Nền tảng đặt phòng ký túc xá hàng đầu tại Đà Nẵng, giúp sinh viên tìm kiếm và đặt phòng nhanh chóng.</p>
      </div>
      <div>
        <h4>Liên kết nhanh</h4>
        <p><a href="#">Trang chủ</a></p>
        <p><a href="#">Danh sách ký túc xá</a></p>
        <p><a href="#">Giới thiệu</a></p>
        <p><a href="#">Liên hệ</a></p>
      </div>
      <div>
        <h4>Liên hệ</h4>
        <p>Số Nguyễn Lương Bằng, Liên Chiểu, Đà Nẵng</p>
        <p>Email: contact@dormspace.vn</p>
        <p>Điện thoại: 0236 123 4567</p>
      </div>
      <div class="subscribe">
        <h4>Theo dõi chúng tôi</h4>
        <input type="email" placeholder="Email của bạn">
        <button>Đăng ký</button>
      </div>
    </div>
    <p style="text-align:center; margin-top:20px; font-size:13px; color:#aaa;">© 2023 DormSpace. Tất cả các quyền được bảo lưu.</p>
  </footer>

  <!-- Form đặt phòng (ẩn ban đầu) -->
<div id="bookingFormContainer" style="display:none; 
     position:fixed; top:0; left:0; width:100%; height:100%;
     background:rgba(0,0,0,0.5); display:flex; justify-content:center; align-items:center;">
  <div style="background:#fff; padding:20px; border-radius:10px; width:350px;">
    <h3>Đặt phòng P101</h3>
    <form id="bookingForm">
      <label>Tên khách hàng:</label>
      <input type="text" name="name" required style="width:100%; margin:5px 0;"><br>

      <input type="hidden" name="room" value="P101">

      <label>Ngày nhận:</label>
      <input type="date" name="checkin" required style="width:100%; margin:5px 0;"><br>

      <label>Ngày trả:</label>
      <input type="date" name="checkout" required style="width:100%; margin:5px 0;"><br>

      <button type="submit" style="margin-top:10px; padding:8px 12px; background:#3a5aff; color:#fff; border:none; border-radius:5px;">Đồng ý</button>
      <button type="button" onclick="hideBookingForm()" style="margin-top:10px; padding:8px 12px; background:#aaa; color:#fff; border:none; border-radius:5px;">Hủy</button>
    </form>
  </div>
</div>

<div id="result" style="text-align:center; margin:20px; font-weight:bold; color:green;"></div>

<script>
  // Mở form khi bấm nút
  document.querySelector(".btn").addEventListener("click", () => {
    document.getElementById("bookingFormContainer").style.display = "flex";
  });

  // Ẩn form
  function hideBookingForm() {
    document.getElementById("bookingFormContainer").style.display = "none";
  }

  // Gửi form đặt phòng
  document.getElementById("bookingForm").addEventListener("submit", async function(e) {
    e.preventDefault();

    const formData = new FormData(this);
    const data = Object.fromEntries(formData.entries());

    // Nếu bạn có backend thì giữ lại fetch
    // Còn demo thì bỏ phần gọi API đi, chỉ hiện alert
    try {
      const res = await fetch("/book-room", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      });

      const result = await res.json();

      // Hiện thông báo thành công
      alert("Bạn đã đặt phòng thành công");

      document.getElementById("result").innerText = result.message;
    } catch (err) {
      // Nếu chưa có backend thì vẫn hiện thông báo
      alert("Bạn đã đặt phòng thành công");
      document.getElementById("result").innerText = "Đặt phòng thành công!";
    }

    hideBookingForm(); // Ẩn form sau khi gửi
  });
</script>


</body>
</html>